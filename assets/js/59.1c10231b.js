(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{398:function(s,a,t){"use strict";t.r(a);var n=t(4),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"jvm-å®æˆ˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jvm-å®æˆ˜"}},[s._v("#")]),s._v(" JVM å®æˆ˜")]),s._v(" "),a("h2",{attrs:{id:"jvm-è°ƒä¼˜æ¦‚è¿°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jvm-è°ƒä¼˜æ¦‚è¿°"}},[s._v("#")]),s._v(" JVM è°ƒä¼˜æ¦‚è¿°")]),s._v(" "),a("h3",{attrs:{id:"gc-æ€§èƒ½æŒ‡æ ‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gc-æ€§èƒ½æŒ‡æ ‡"}},[s._v("#")]),s._v(" GC æ€§èƒ½æŒ‡æ ‡")]),s._v(" "),a("p",[s._v("å¯¹äº JVM è°ƒä¼˜æ¥è¯´ï¼Œéœ€è¦å…ˆæ˜ç¡®è°ƒä¼˜çš„ç›®æ ‡ã€‚\nä»æ€§èƒ½çš„è§’åº¦çœ‹ï¼Œé€šå¸¸å…³æ³¨ä¸‰ä¸ªæŒ‡æ ‡ï¼š")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("ååé‡ï¼ˆthroughputï¼‰")]),s._v(" - æŒ‡ä¸è€ƒè™‘ GC å¼•èµ·çš„åœé¡¿æ—¶é—´æˆ–å†…å­˜æ¶ˆè€—ï¼Œåƒåœ¾æ”¶é›†å™¨èƒ½æ”¯æ’‘åº”ç”¨è¾¾åˆ°çš„æœ€é«˜æ€§èƒ½æŒ‡æ ‡ã€‚")]),s._v(" "),a("li",[a("code",[s._v("åœé¡¿æ—¶é—´ï¼ˆlatencyï¼‰")]),s._v(" - å…¶åº¦é‡æ ‡å‡†æ˜¯ç¼©çŸ­ç”±äºåƒåœ¾å•Šæ”¶é›†å¼•èµ·çš„åœé¡¿æ—¶é—´æˆ–è€…å®Œå…¨æ¶ˆé™¤å› åƒåœ¾æ”¶é›†æ‰€å¼•èµ·çš„åœé¡¿ï¼Œé¿å…åº”ç”¨è¿è¡Œæ—¶å‘ç”ŸæŠ–åŠ¨ã€‚")]),s._v(" "),a("li",[a("code",[s._v("åƒåœ¾å›æ”¶é¢‘ç‡")]),s._v(" - ä¹…å‘ç”Ÿä¸€æ¬¡æŒ‡åƒåœ¾å›æ”¶å‘¢ï¼Ÿé€šå¸¸åƒåœ¾å›æ”¶çš„é¢‘ç‡è¶Šä½è¶Šå¥½ï¼Œå¢å¤§å †å†…å­˜ç©ºé—´å¯ä»¥æœ‰æ•ˆé™ä½åƒåœ¾å›æ”¶å‘ç”Ÿçš„é¢‘ç‡ï¼Œä½†åŒæ—¶ä¹Ÿæ„å‘³ç€å †ç§¯çš„å›æ”¶å¯¹è±¡è¶Šå¤šï¼Œæœ€ç»ˆä¹Ÿä¼šå¢åŠ å›æ”¶æ—¶çš„åœé¡¿æ—¶é—´ã€‚æ‰€ä»¥æˆ‘ä»¬åªè¦é€‚å½“åœ°å¢å¤§å †å†…å­˜ç©ºé—´ï¼Œä¿è¯æ­£å¸¸çš„åƒåœ¾å›æ”¶é¢‘ç‡å³å¯ã€‚")])]),s._v(" "),a("p",[s._v("å¤§å¤šæ•°æƒ…å†µä¸‹è°ƒä¼˜ä¼šä¾§é‡äºå…¶ä¸­ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ªæ–¹é¢çš„ç›®æ ‡ï¼Œå¾ˆå°‘æœ‰æƒ…å†µå¯ä»¥å…¼é¡¾ä¸‰ä¸ªä¸åŒçš„è§’åº¦ã€‚")]),s._v(" "),a("h3",{attrs:{id:"è°ƒä¼˜åŸåˆ™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è°ƒä¼˜åŸåˆ™"}},[s._v("#")]),s._v(" è°ƒä¼˜åŸåˆ™")]),s._v(" "),a("p",[s._v("GC ä¼˜åŒ–çš„ä¸¤ä¸ªç›®æ ‡ï¼š")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("é™ä½ Full GC çš„é¢‘ç‡")])]),s._v(" "),a("li",[a("strong",[s._v("å‡å°‘ Full GC çš„æ‰§è¡Œæ—¶é—´")])])]),s._v(" "),a("p",[s._v("GC ä¼˜åŒ–çš„åŸºæœ¬åŸåˆ™æ˜¯ï¼šå°†ä¸åŒçš„ GC å‚æ•°åº”ç”¨åˆ°ä¸¤ä¸ªåŠä»¥ä¸Šçš„æœåŠ¡å™¨ä¸Šç„¶åæ¯”è¾ƒå®ƒä»¬çš„æ€§èƒ½ï¼Œç„¶åå°†é‚£äº›è¢«è¯æ˜å¯ä»¥æé«˜æ€§èƒ½æˆ–å‡å°‘ GC æ‰§è¡Œæ—¶é—´çš„å‚æ•°åº”ç”¨äºæœ€ç»ˆçš„å·¥ä½œæœåŠ¡å™¨ä¸Šã€‚")]),s._v(" "),a("h4",{attrs:{id:"é™ä½-minor-gc-é¢‘ç‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é™ä½-minor-gc-é¢‘ç‡"}},[s._v("#")]),s._v(" é™ä½ Minor GC é¢‘ç‡")]),s._v(" "),a("p",[s._v("å¦‚æœæ–°ç”Ÿä»£ç©ºé—´è¾ƒå°ï¼ŒEden åŒºå¾ˆå¿«è¢«å¡«æ»¡ï¼Œå°±ä¼šå¯¼è‡´é¢‘ç¹ Minor GCï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡å¢å¤§æ–°ç”Ÿä»£ç©ºé—´æ¥é™ä½ Minor GC çš„é¢‘ç‡ã€‚")]),s._v(" "),a("p",[s._v("å¯èƒ½ä½ ä¼šæœ‰è¿™æ ·çš„ç–‘é—®ï¼Œæ‰©å®¹ Eden åŒºè™½ç„¶å¯ä»¥å‡å°‘ Minor GC çš„æ¬¡æ•°ï¼Œä½†ä¸ä¼šå¢åŠ å•æ¬¡ Minor GC çš„æ—¶é—´å—ï¼Ÿå¦‚æœå•æ¬¡ Minor GC çš„æ—¶é—´å¢åŠ ï¼Œé‚£ä¹Ÿå¾ˆéš¾è¾¾åˆ°æˆ‘ä»¬æœŸå¾…çš„ä¼˜åŒ–æ•ˆæœå‘€ã€‚")]),s._v(" "),a("p",[s._v("æˆ‘ä»¬çŸ¥é“ï¼Œå•æ¬¡ Minor GC æ—¶é—´æ˜¯ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šT1ï¼ˆæ‰«ææ–°ç”Ÿä»£ï¼‰å’Œ T2ï¼ˆå¤åˆ¶å­˜æ´»å¯¹è±¡ï¼‰ã€‚å‡è®¾ä¸€ä¸ªå¯¹è±¡åœ¨ Eden åŒºçš„å­˜æ´»æ—¶é—´ä¸º 500msï¼ŒMinor GC çš„æ—¶é—´é—´éš”æ˜¯ 300msï¼Œé‚£ä¹ˆæ­£å¸¸æƒ…å†µä¸‹ï¼ŒMinor GC çš„æ—¶é—´ä¸º ï¼šT1+T2ã€‚")]),s._v(" "),a("p",[s._v("å½“æˆ‘ä»¬å¢å¤§æ–°ç”Ÿä»£ç©ºé—´ï¼ŒMinor GC çš„æ—¶é—´é—´éš”å¯èƒ½ä¼šæ‰©å¤§åˆ° 600msï¼Œæ­¤æ—¶ä¸€ä¸ªå­˜æ´» 500ms çš„å¯¹è±¡å°±ä¼šåœ¨ Eden åŒºä¸­è¢«å›æ”¶æ‰ï¼Œæ­¤æ—¶å°±ä¸å­˜åœ¨å¤åˆ¶å­˜æ´»å¯¹è±¡äº†ï¼Œæ‰€ä»¥å†å‘ç”Ÿ Minor GC çš„æ—¶é—´ä¸ºï¼šä¸¤æ¬¡æ‰«ææ–°ç”Ÿä»£ï¼Œå³ 2T1ã€‚")]),s._v(" "),a("p",[s._v("å¯è§ï¼Œæ‰©å®¹åï¼ŒMinor GC æ—¶å¢åŠ äº† T1ï¼Œä½†çœå»äº† T2 çš„æ—¶é—´ã€‚é€šå¸¸åœ¨è™šæ‹Ÿæœºä¸­ï¼Œå¤åˆ¶å¯¹è±¡çš„æˆæœ¬è¦è¿œé«˜äºæ‰«ææˆæœ¬ã€‚")]),s._v(" "),a("p",[s._v("å¦‚æœåœ¨å †å†…å­˜ä¸­å­˜åœ¨è¾ƒå¤šçš„é•¿æœŸå­˜æ´»çš„å¯¹è±¡ï¼Œæ­¤æ—¶å¢åŠ å¹´è½»ä»£ç©ºé—´ï¼Œåè€Œä¼šå¢åŠ  Minor GC çš„æ—¶é—´ã€‚å¦‚æœå †ä¸­çš„çŸ­æœŸå¯¹è±¡å¾ˆå¤šï¼Œé‚£ä¹ˆæ‰©å®¹æ–°ç”Ÿä»£ï¼Œå•æ¬¡ Minor GC æ—¶é—´ä¸ä¼šæ˜¾è‘—å¢åŠ ã€‚å› æ­¤ï¼Œå•æ¬¡ Minor GC æ—¶é—´æ›´å¤šå–å†³äº GC åå­˜æ´»å¯¹è±¡çš„æ•°é‡ï¼Œè€Œé Eden åŒºçš„å¤§å°ã€‚")]),s._v(" "),a("h4",{attrs:{id:"é™ä½-full-gc-çš„é¢‘ç‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é™ä½-full-gc-çš„é¢‘ç‡"}},[s._v("#")]),s._v(" é™ä½ Full GC çš„é¢‘ç‡")]),s._v(" "),a("p",[s._v("Full GC ç›¸å¯¹æ¥è¯´ä¼šæ¯” Minor GC æ›´è€—æ—¶ã€‚å‡å°‘è¿›å…¥è€å¹´ä»£çš„å¯¹è±¡æ•°é‡å¯ä»¥æ˜¾è‘—é™ä½ Full GC çš„é¢‘ç‡ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("å‡å°‘åˆ›å»ºå¤§å¯¹è±¡ï¼š"),a("strong",[s._v("å¦‚æœ")]),s._v("å¯¹è±¡å ç”¨å†…å­˜è¿‡å¤§ï¼Œåœ¨ Eden åŒºè¢«åˆ›å»ºåä¼šç›´æ¥è¢«ä¼ å…¥è€å¹´ä»£")]),s._v("ã€‚åœ¨å¹³å¸¸çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬ä¹ æƒ¯ä¸€æ¬¡æ€§ä»æ•°æ®åº“ä¸­æŸ¥è¯¢å‡ºä¸€ä¸ªå¤§å¯¹è±¡ç”¨äº web ç«¯æ˜¾ç¤ºã€‚ä¾‹å¦‚ï¼Œæˆ‘ä¹‹å‰ç¢°åˆ°è¿‡ä¸€ä¸ªä¸€æ¬¡æ€§æŸ¥è¯¢å‡º 60 ä¸ªå­—æ®µçš„ä¸šåŠ¡æ“ä½œï¼Œè¿™ç§å¤§å¯¹è±¡å¦‚æœè¶…è¿‡å¹´è½»ä»£æœ€å¤§å¯¹è±¡é˜ˆå€¼ï¼Œä¼šè¢«ç›´æ¥åˆ›å»ºåœ¨è€å¹´ä»£ï¼›å³ä½¿è¢«åˆ›å»ºåœ¨äº†å¹´è½»ä»£ï¼Œç”±äºå¹´è½»ä»£çš„å†…å­˜ç©ºé—´æœ‰é™ï¼Œé€šè¿‡ Minor GC ä¹‹åä¹Ÿä¼šè¿›å…¥åˆ°è€å¹´ä»£ã€‚è¿™ç§å¤§å¯¹è±¡å¾ˆå®¹æ˜“äº§ç”Ÿè¾ƒå¤šçš„ Full GCã€‚")]),s._v(" "),a("p",[s._v("æˆ‘ä»¬å¯ä»¥å°†è¿™ç§å¤§å¯¹è±¡æ‹†è§£å‡ºæ¥ï¼Œé¦–æ¬¡åªæŸ¥è¯¢ä¸€äº›æ¯”è¾ƒé‡è¦çš„å­—æ®µï¼Œå¦‚æœè¿˜éœ€è¦å…¶å®ƒå­—æ®µè¾…åŠ©æŸ¥çœ‹ï¼Œå†é€šè¿‡ç¬¬äºŒæ¬¡æŸ¥è¯¢æ˜¾ç¤ºå‰©ä½™çš„å­—æ®µã€‚")]),s._v(" "),a("p",[s._v("**å¢å¤§å †å†…å­˜ç©ºé—´ï¼š**åœ¨å †å†…å­˜ä¸è¶³çš„æƒ…å†µä¸‹ï¼Œå¢å¤§å †å†…å­˜ç©ºé—´ï¼Œä¸”è®¾ç½®åˆå§‹åŒ–å †å†…å­˜ä¸ºæœ€å¤§å †å†…å­˜ï¼Œä¹Ÿå¯ä»¥é™ä½ Full GC çš„é¢‘ç‡ã€‚")]),s._v(" "),a("h4",{attrs:{id:"é™ä½-full-gc-çš„æ—¶é—´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é™ä½-full-gc-çš„æ—¶é—´"}},[s._v("#")]),s._v(" é™ä½ Full GC çš„æ—¶é—´")]),s._v(" "),a("p",[s._v("Full GC çš„æ‰§è¡Œæ—¶é—´æ¯” Minor GC è¦é•¿å¾ˆå¤šï¼Œå› æ­¤ï¼Œå¦‚æœåœ¨ Full GC ä¸ŠèŠ±è´¹è¿‡å¤šçš„æ—¶é—´ï¼ˆè¶…è¿‡ 1sï¼‰ï¼Œå°†å¯èƒ½å‡ºç°è¶…æ—¶é”™è¯¯ã€‚")]),s._v(" "),a("ul",[a("li",[s._v("å¦‚æœ"),a("strong",[s._v("é€šè¿‡å‡å°è€å¹´ä»£å†…å­˜æ¥å‡å°‘ Full GC æ—¶é—´")]),s._v("ï¼Œå¯èƒ½ä¼šå¼•èµ· "),a("code",[s._v("OutOfMemoryError")]),s._v(" æˆ–è€…å¯¼è‡´ Full GC çš„é¢‘ç‡å‡é«˜ã€‚")]),s._v(" "),a("li",[s._v("å¦å¤–ï¼Œå¦‚æœ"),a("strong",[s._v("é€šè¿‡å¢åŠ è€å¹´ä»£å†…å­˜æ¥é™ä½ Full GC çš„é¢‘ç‡")]),s._v("ï¼ŒFull GC çš„æ—¶é—´å¯èƒ½å› æ­¤å¢åŠ ã€‚")])]),s._v(" "),a("p",[s._v("å› æ­¤ï¼Œä½ "),a("strong",[s._v("éœ€è¦æŠŠè€å¹´ä»£çš„å¤§å°è®¾ç½®æˆä¸€ä¸ªâ€œåˆé€‚â€çš„å€¼")]),s._v("ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("GC ä¼˜åŒ–éœ€è¦è€ƒè™‘çš„ JVM å‚æ•°")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[a("strong",[s._v("ç±»å‹")])]),s._v(" "),a("th",[a("strong",[s._v("å‚æ•°")])]),s._v(" "),a("th",[a("strong",[s._v("æè¿°")])])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("å †å†…å­˜å¤§å°")]),s._v(" "),a("td",[a("code",[s._v("-Xms")])]),s._v(" "),a("td",[s._v("å¯åŠ¨ JVM æ—¶å †å†…å­˜çš„å¤§å°")])]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td",[a("code",[s._v("-Xmx")])]),s._v(" "),a("td",[s._v("å †å†…å­˜æœ€å¤§é™åˆ¶")])]),s._v(" "),a("tr",[a("td",[s._v("æ–°ç”Ÿä»£ç©ºé—´å¤§å°")]),s._v(" "),a("td",[a("code",[s._v("-XX:NewRatio")])]),s._v(" "),a("td",[s._v("æ–°ç”Ÿä»£å’Œè€å¹´ä»£çš„å†…å­˜æ¯”")])]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td",[a("code",[s._v("-XX:NewSize")])]),s._v(" "),a("td",[s._v("æ–°ç”Ÿä»£å†…å­˜å¤§å°")])]),s._v(" "),a("tr",[a("td"),s._v(" "),a("td",[a("code",[s._v("-XX:SurvivorRatio")])]),s._v(" "),a("td",[s._v("Eden åŒºå’Œ Survivor åŒºçš„å†…å­˜æ¯”")])])])]),s._v(" "),a("p",[s._v("GC ä¼˜åŒ–æ—¶æœ€å¸¸ç”¨çš„å‚æ•°æ˜¯"),a("code",[s._v("-Xms")]),s._v(","),a("code",[s._v("-Xmx")]),s._v("å’Œ"),a("code",[s._v("-XX:NewRatio")]),s._v("ã€‚"),a("code",[s._v("-Xms")]),s._v("å’Œ"),a("code",[s._v("-Xmx")]),s._v("å‚æ•°é€šå¸¸æ˜¯å¿…é¡»çš„ï¼Œæ‰€ä»¥"),a("code",[s._v("NewRatio")]),s._v("çš„å€¼å°†å¯¹ GC æ€§èƒ½äº§ç”Ÿé‡è¦çš„å½±å“ã€‚")]),s._v(" "),a("p",[s._v("æœ‰äº›äººå¯èƒ½ä¼šé—®"),a("strong",[s._v("å¦‚ä½•è®¾ç½®æ°¸ä¹…ä»£å†…å­˜å¤§å°")]),s._v("ï¼Œä½ å¯ä»¥ç”¨"),a("code",[s._v("-XX:PermSize")]),s._v("å’Œ"),a("code",[s._v("-XX:MaxPermSize")]),s._v("å‚æ•°æ¥è¿›è¡Œè®¾ç½®ï¼Œä½†æ˜¯è¦è®°ä½ï¼Œåªæœ‰å½“å‡ºç°"),a("code",[s._v("OutOfMemoryError")]),s._v("é”™è¯¯æ—¶ä½ æ‰éœ€è¦å»è®¾ç½®æ°¸ä¹…ä»£å†…å­˜ã€‚")]),s._v(" "),a("h3",{attrs:{id:"gc-ä¼˜åŒ–çš„è¿‡ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gc-ä¼˜åŒ–çš„è¿‡ç¨‹"}},[s._v("#")]),s._v(" GC ä¼˜åŒ–çš„è¿‡ç¨‹")]),s._v(" "),a("p",[s._v("GC ä¼˜åŒ–çš„è¿‡ç¨‹å¤§è‡´å¯åˆ†ä¸ºä»¥ä¸‹æ­¥éª¤ï¼š")]),s._v(" "),a("h4",{attrs:{id:"_1-ç›‘æ§-gc-çŠ¶æ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ç›‘æ§-gc-çŠ¶æ€"}},[s._v("#")]),s._v(" ï¼ˆ1ï¼‰ç›‘æ§ GC çŠ¶æ€")]),s._v(" "),a("p",[s._v("ä½ éœ€è¦ç›‘æ§ GC ä»è€Œæ£€æŸ¥ç³»ç»Ÿä¸­è¿è¡Œçš„ GC çš„å„ç§çŠ¶æ€ã€‚")]),s._v(" "),a("h4",{attrs:{id:"_2-åˆ†æ-gc-æ—¥å¿—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-åˆ†æ-gc-æ—¥å¿—"}},[s._v("#")]),s._v(" ï¼ˆ2ï¼‰åˆ†æ GC æ—¥å¿—")]),s._v(" "),a("p",[s._v("åœ¨æ£€æŸ¥ GC çŠ¶æ€åï¼Œä½ éœ€è¦åˆ†æç›‘æ§ç»“æ„å¹¶å†³å®šæ˜¯å¦éœ€è¦è¿›è¡Œ GC ä¼˜åŒ–ã€‚å¦‚æœåˆ†æç»“æœæ˜¾ç¤ºè¿è¡Œ GC çš„æ—¶é—´åªæœ‰ 0.1-0.3 ç§’ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦æŠŠæ—¶é—´æµªè´¹åœ¨ GC ä¼˜åŒ–ä¸Šï¼Œä½†å¦‚æœè¿è¡Œ GC çš„æ—¶é—´è¾¾åˆ° 1-3 ç§’ï¼Œç”šè‡³å¤§äº 10 ç§’ï¼Œé‚£ä¹ˆ GC ä¼˜åŒ–å°†æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚")]),s._v(" "),a("p",[s._v("ä½†æ˜¯ï¼Œå¦‚æœä½ å·²ç»åˆ†é…äº†å¤§çº¦ 10GB å†…å­˜ç»™ Javaï¼Œå¹¶ä¸”è¿™äº›å†…å­˜æ— æ³•çœä¸‹ï¼Œé‚£ä¹ˆå°±æ— æ³•è¿›è¡Œ GC ä¼˜åŒ–äº†ã€‚åœ¨è¿›è¡Œ GC ä¼˜åŒ–ä¹‹å‰ï¼Œä½ éœ€è¦è€ƒè™‘ä¸ºä»€ä¹ˆä½ éœ€è¦åˆ†é…è¿™ä¹ˆå¤§çš„å†…å­˜ç©ºé—´ï¼Œå¦‚æœä½ åˆ†é…äº† 1GB æˆ– 2GB å¤§å°çš„å†…å­˜å¹¶ä¸”å‡ºç°äº†"),a("code",[s._v("OutOfMemoryError")]),s._v("ï¼Œé‚£ä½ å°±åº”è¯¥æ‰§è¡Œ**å †å¿«ç…§ï¼ˆheap dumpï¼‰**æ¥æ¶ˆé™¤å¯¼è‡´å¼‚å¸¸çš„åŸå› ã€‚")]),s._v(" "),a("blockquote",[a("p",[s._v("ğŸ”” æ³¨æ„ï¼š")])]),s._v(" "),a("blockquote",[a("p",[s._v("**å †å¿«ç…§ï¼ˆheap dumpï¼‰**æ˜¯ä¸€ä¸ªç”¨æ¥æ£€æŸ¥ Java å†…å­˜ä¸­çš„å¯¹è±¡å’Œæ•°æ®çš„å†…å­˜æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶å¯ä»¥é€šè¿‡æ‰§è¡Œ JDK ä¸­çš„"),a("code",[s._v("jmap")]),s._v("å‘½ä»¤æ¥åˆ›å»ºã€‚åœ¨åˆ›å»ºæ–‡ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰ Java ç¨‹åºéƒ½å°†æš‚åœï¼Œå› æ­¤ï¼Œä¸è¦åœ¨ç³»ç»Ÿæ‰§è¡Œè¿‡ç¨‹ä¸­åˆ›å»ºè¯¥æ–‡ä»¶ã€‚")])]),s._v(" "),a("blockquote",[a("p",[s._v("ä½ å¯ä»¥åœ¨äº’è”ç½‘ä¸Šæœç´¢ heap dump çš„è¯¦ç»†è¯´æ˜ã€‚")])]),s._v(" "),a("h4",{attrs:{id:"_3-é€‰æ‹©åˆé€‚-gc-å›æ”¶å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-é€‰æ‹©åˆé€‚-gc-å›æ”¶å™¨"}},[s._v("#")]),s._v(" ï¼ˆ3ï¼‰é€‰æ‹©åˆé€‚ GC å›æ”¶å™¨")]),s._v(" "),a("p",[s._v("å¦‚æœä½ å†³å®šè¦è¿›è¡Œ GC ä¼˜åŒ–ï¼Œé‚£ä¹ˆä½ éœ€è¦é€‰æ‹©ä¸€ä¸ª GC å›æ”¶å™¨ï¼Œå¹¶ä¸”ä¸ºå®ƒè®¾ç½®åˆç† JVM å‚æ•°ã€‚æ­¤æ—¶å¦‚æœä½ æœ‰å¤šä¸ªæœåŠ¡å™¨ï¼Œè¯·å¦‚ä¸Šæ–‡æåˆ°çš„é‚£æ ·ï¼Œåœ¨æ¯å°æœºå™¨ä¸Šè®¾ç½®ä¸åŒçš„ GC å‚æ•°å¹¶åˆ†æå®ƒä»¬çš„åŒºåˆ«ã€‚")]),s._v(" "),a("h4",{attrs:{id:"_4-åˆ†æç»“æœ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-åˆ†æç»“æœ"}},[s._v("#")]),s._v(" ï¼ˆ4ï¼‰åˆ†æç»“æœ")]),s._v(" "),a("p",[s._v("åœ¨è®¾ç½®å®Œ GC å‚æ•°åå°±å¯ä»¥å¼€å§‹æ”¶é›†æ•°æ®ï¼Œè¯·åœ¨æ”¶é›†è‡³å°‘ 24 å°æ—¶åå†è¿›è¡Œç»“æœåˆ†æã€‚å¦‚æœä½ è¶³å¤Ÿå¹¸è¿ï¼Œä½ å¯èƒ½ä¼šæ‰¾åˆ°ç³»ç»Ÿçš„æœ€ä½³ GC å‚æ•°ã€‚å¦‚è‹¥ä¸ç„¶ï¼Œä½ è¿˜éœ€è¦åˆ†æè¾“å‡ºæ—¥å¿—å¹¶æ£€æŸ¥åˆ†é…çš„å†…å­˜ï¼Œç„¶åéœ€è¦é€šè¿‡ä¸æ–­è°ƒæ•´ GC ç±»å‹/å†…å­˜å¤§å°æ¥æ‰¾åˆ°ç³»ç»Ÿçš„æœ€ä½³å‚æ•°ã€‚")]),s._v(" "),a("h4",{attrs:{id:"_5-åº”ç”¨ä¼˜åŒ–é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-åº”ç”¨ä¼˜åŒ–é…ç½®"}},[s._v("#")]),s._v(" ï¼ˆ5ï¼‰åº”ç”¨ä¼˜åŒ–é…ç½®")]),s._v(" "),a("p",[s._v("å¦‚æœ GC ä¼˜åŒ–çš„ç»“æœä»¤äººæ»¡æ„ï¼Œå°±å¯ä»¥å°†å‚æ•°åº”ç”¨åˆ°æ‰€æœ‰æœåŠ¡å™¨ä¸Šï¼Œå¹¶åœæ­¢ GC ä¼˜åŒ–ã€‚")]),s._v(" "),a("p",[s._v("åœ¨ä¸‹é¢çš„ç« èŠ‚ä¸­ï¼Œä½ å°†ä¼šçœ‹åˆ°ä¸Šè¿°æ¯ä¸€æ­¥æ‰€åšçš„å…·ä½“å·¥ä½œã€‚")]),s._v(" "),a("h2",{attrs:{id:"gc-æ—¥å¿—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gc-æ—¥å¿—"}},[s._v("#")]),s._v(" GC æ—¥å¿—")]),s._v(" "),a("h3",{attrs:{id:"è·å–-gc-æ—¥å¿—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·å–-gc-æ—¥å¿—"}},[s._v("#")]),s._v(" è·å– GC æ—¥å¿—")]),s._v(" "),a("p",[s._v("è·å– GC æ—¥å¿—æœ‰ä¸¤ç§æ–¹å¼ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("ä½¿ç”¨ "),a("code",[s._v("jstat")]),s._v(" å‘½ä»¤åŠ¨æ€æŸ¥çœ‹")]),s._v(" "),a("li",[s._v("åœ¨å®¹å™¨ä¸­è®¾ç½®ç›¸å…³å‚æ•°æ‰“å° GC æ—¥å¿—")])]),s._v(" "),a("h4",{attrs:{id:"jstat-å‘½ä»¤æŸ¥çœ‹-gc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jstat-å‘½ä»¤æŸ¥çœ‹-gc"}},[s._v("#")]),s._v(" jstat å‘½ä»¤æŸ¥çœ‹ GC")]),s._v(" "),a("p",[a("code",[s._v("jstat -gc")]),s._v(" ç»Ÿè®¡åƒåœ¾å›æ”¶å †çš„è¡Œä¸ºï¼š")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("jstat "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("gc "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1262")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("S0C")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("S1C")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("S0U")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("S1U")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("EC")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("EU")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OC")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("OU")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PC")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PU")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("YGC")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("YGCT")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FGC")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FGCT")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("GCT")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("26112.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24064.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6562.5")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("564224.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("76274.5")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("434176.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("388518.3")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("524288.0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("42724.7")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("320")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.417")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.398")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.815")]),s._v("\n")])])]),a("p",[s._v("ä¹Ÿå¯ä»¥è®¾ç½®é—´éš”å›ºå®šæ—¶é—´æ¥æ‰“å°ï¼š")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("jstat "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-gc")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1262")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n")])])]),a("p",[s._v("è¿™ä¸ªå‘½ä»¤æ„æ€å°±æ˜¯æ¯éš” 2000ms è¾“å‡º 1262 çš„ gc æƒ…å†µï¼Œä¸€å…±è¾“å‡º 20 æ¬¡")]),s._v(" "),a("h4",{attrs:{id:"æ‰“å°-gc-çš„å‚æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ‰“å°-gc-çš„å‚æ•°"}},[s._v("#")]),s._v(" æ‰“å° GC çš„å‚æ•°")]),s._v(" "),a("p",[s._v("é€šè¿‡ JVM å‚æ•°é¢„å…ˆè®¾ç½® GC æ—¥å¿—ï¼Œé€šå¸¸æœ‰ä»¥ä¸‹å‡ ç§ JVM å‚æ•°è®¾ç½®ï¼š")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-XX:+PrintGC è¾“å‡º GC æ—¥å¿—\n-XX:+PrintGCDetails è¾“å‡º GC çš„è¯¦ç»†æ—¥å¿—\n-XX:+PrintGCTimeStamps è¾“å‡º GC çš„æ—¶é—´æˆ³ï¼ˆä»¥åŸºå‡†æ—¶é—´çš„å½¢å¼ï¼‰\n-XX:+PrintGCDateStamps è¾“å‡º GC çš„æ—¶é—´æˆ³ï¼ˆä»¥æ—¥æœŸçš„å½¢å¼ï¼Œå¦‚ 2013-05-04T21:53:59.234+0800ï¼‰\n-XX:+PrintHeapAtGC åœ¨è¿›è¡Œ GC çš„å‰åæ‰“å°å‡ºå †çš„ä¿¡æ¯\n-verbose:gc -Xloggc:../logs/gc.log æ—¥å¿—æ–‡ä»¶çš„è¾“å‡ºè·¯å¾„\n")])])]),a("p",[s._v("å¦‚æœæ˜¯é•¿æ—¶é—´çš„ GC æ—¥å¿—ï¼Œæˆ‘ä»¬å¾ˆéš¾é€šè¿‡æ–‡æœ¬å½¢å¼å»æŸ¥çœ‹æ•´ä½“çš„ GC æ€§èƒ½ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡"),a("a",{attrs:{href:"https://sourceforge.net/projects/gcviewer/",target:"_blank",rel:"noopener noreferrer"}},[s._v("GCView"),a("OutboundLink")],1),s._v("å·¥å…·æ‰“å¼€æ—¥å¿—æ–‡ä»¶ï¼Œå›¾å½¢åŒ–ç•Œé¢æŸ¥çœ‹æ•´ä½“çš„ GC æ€§èƒ½ã€‚")]),s._v(" "),a("p",[s._v("ã€ç¤ºä¾‹ã€‘Tomcat è®¾ç½®ç¤ºä¾‹")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JAVA_OPTS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-server -Xms2000m -Xmx2000m -Xmn800m -XX:PermSize=64m -XX:MaxPermSize=256m -XX:SurvivorRatio=4\n-verbose:gc -Xloggc:'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$CATALINA_HOME")]),s._v('/logs/gc.log\n-Djava.awt.headless=true\n-XX:+PrintGCTimeStamps -XX:+PrintGCDetails\n-Dsun.rmi.dgc.server.gcInterval=600000 -Dsun.rmi.dgc.client.gcInterval=600000\n-XX:+UseConcMarkSweepGC -XX:MaxTenuringThreshold=15"')]),s._v("\n")])])]),a("ul",[a("li",[a("code",[s._v("-Xms2000m -Xmx2000m -Xmn800m -XX:PermSize=64m -XX:MaxPermSize=256m")]),s._v("\nXmsï¼Œå³ä¸º jvm å¯åŠ¨æ—¶å¾— JVM åˆå§‹å †å¤§å°,Xmx ä¸º jvm çš„æœ€å¤§å †å¤§å°ï¼Œxmn ä¸ºæ–°ç”Ÿä»£çš„å¤§å°ï¼Œpermsize ä¸ºæ°¸ä¹…ä»£çš„åˆå§‹å¤§å°ï¼ŒMaxPermSize ä¸ºæ°¸ä¹…ä»£çš„æœ€å¤§ç©ºé—´ã€‚")]),s._v(" "),a("li",[a("code",[s._v("-XX:SurvivorRatio=4")]),s._v("\nSurvivorRatio ä¸ºæ–°ç”Ÿä»£ç©ºé—´ä¸­çš„ Eden åŒºå’Œæ•‘åŠ©ç©ºé—´ Survivor åŒºçš„å¤§å°æ¯”å€¼ï¼Œé»˜è®¤æ˜¯ 8ï¼Œåˆ™ä¸¤ä¸ª Survivor åŒºä¸ä¸€ä¸ª Eden åŒºçš„æ¯”å€¼ä¸º 2:8,ä¸€ä¸ª Survivor åŒºå æ•´ä¸ªå¹´è½»ä»£çš„ 1/10ã€‚è°ƒå°è¿™ä¸ªå‚æ•°å°†å¢å¤§ survivor åŒºï¼Œè®©å¯¹è±¡å°½é‡åœ¨ survitor åŒºå‘†é•¿ä¸€ç‚¹ï¼Œå‡å°‘è¿›å…¥å¹´è€ä»£çš„å¯¹è±¡ã€‚å»æ‰æ•‘åŠ©ç©ºé—´çš„æƒ³æ³•æ˜¯è®©å¤§éƒ¨åˆ†ä¸èƒ½é©¬ä¸Šå›æ”¶çš„æ•°æ®å°½å¿«è¿›å…¥å¹´è€ä»£ï¼ŒåŠ å¿«å¹´è€ä»£çš„å›æ”¶é¢‘ç‡ï¼Œå‡å°‘å¹´è€ä»£æš´æ¶¨çš„å¯èƒ½æ€§ï¼Œè¿™ä¸ªæ˜¯é€šè¿‡å°†-XX:SurvivorRatio è®¾ç½®æˆæ¯”è¾ƒå¤§çš„å€¼ï¼ˆæ¯”å¦‚ 65536)æ¥åšåˆ°ã€‚")]),s._v(" "),a("li",[a("code",[s._v("-verbose:gc -Xloggc:$CATALINA_HOME/logs/gc.log")]),s._v("\nå°†è™šæ‹Ÿæœºæ¯æ¬¡åƒåœ¾å›æ”¶çš„ä¿¡æ¯å†™åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œæ–‡ä»¶åç”± file æŒ‡å®šï¼Œæ–‡ä»¶æ ¼å¼æ˜¯å¹³æ–‡ä»¶ï¼Œå†…å®¹å’Œ-verbose:gc è¾“å‡ºå†…å®¹ç›¸åŒã€‚")]),s._v(" "),a("li",[a("code",[s._v("-Djava.awt.headless=true")]),s._v(" Headless æ¨¡å¼æ˜¯ç³»ç»Ÿçš„ä¸€ç§é…ç½®æ¨¡å¼ã€‚åœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œç³»ç»Ÿç¼ºå°‘äº†æ˜¾ç¤ºè®¾å¤‡ã€é”®ç›˜æˆ–é¼ æ ‡ã€‚")]),s._v(" "),a("li",[a("code",[s._v("-XX:+PrintGCTimeStamps -XX:+PrintGCDetails")]),s._v("\nè®¾ç½® gc æ—¥å¿—çš„æ ¼å¼")]),s._v(" "),a("li",[a("code",[s._v("-Dsun.rmi.dgc.server.gcInterval=600000 -Dsun.rmi.dgc.client.gcInterval=600000")]),s._v("\næŒ‡å®š rmi è°ƒç”¨æ—¶ gc çš„æ—¶é—´é—´éš”")]),s._v(" "),a("li",[a("code",[s._v("-XX:+UseConcMarkSweepGC -XX:MaxTenuringThreshold=15")]),s._v(" é‡‡ç”¨å¹¶å‘ gc æ–¹å¼ï¼Œç»è¿‡ 15 æ¬¡ minor gc åè¿›å…¥å¹´è€ä»£")])]),s._v(" "),a("h3",{attrs:{id:"åˆ†æ-gc-æ—¥å¿—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†æ-gc-æ—¥å¿—"}},[s._v("#")]),s._v(" åˆ†æ GC æ—¥å¿—")]),s._v(" "),a("p",[s._v("Young GC å›æ”¶æ—¥å¿—:")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2016")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("07")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("05")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("T10")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("43")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.093")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0800")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25.395")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("GC")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PSYoungGen")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("274931")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("10738K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("274944")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("371093")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("147186K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("450048")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0668480")]),s._v(" secs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Times")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" user"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.17")]),s._v(" sys"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.08")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" real"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.07")]),s._v(" secs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("p",[s._v("Full GC å›æ”¶æ—¥å¿—:")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2016")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("07")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("05")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("T10")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("43")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.160")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0800")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25.462")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Full")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("GC")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PSYoungGen")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10738")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("0K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("274944")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ParOldGen")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("136447")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("140379K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("302592")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("147186")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("140379K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("577536")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PSPermGen")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("85411")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("85376K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("171008")]),s._v("K"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.6763541")]),s._v(" secs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Times")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" user"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.75")]),s._v(" sys"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.02")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" real"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.68")]),s._v(" secs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),a("p",[s._v("é€šè¿‡ä¸Šé¢æ—¥å¿—åˆ†æå¾—å‡ºï¼ŒPSYoungGenã€ParOldGenã€PSPermGen å±äº Parallel æ”¶é›†å™¨ã€‚å…¶ä¸­ PSYoungGen è¡¨ç¤º gc å›æ”¶å‰åå¹´è½»ä»£çš„å†…å­˜å˜åŒ–ï¼›ParOldGen è¡¨ç¤º gc å›æ”¶å‰åè€å¹´ä»£çš„å†…å­˜å˜åŒ–ï¼›PSPermGen è¡¨ç¤º gc å›æ”¶å‰åæ°¸ä¹…åŒºçš„å†…å­˜å˜åŒ–ã€‚young gc ä¸»è¦æ˜¯é’ˆå¯¹å¹´è½»ä»£è¿›è¡Œå†…å­˜å›æ”¶æ¯”è¾ƒé¢‘ç¹ï¼Œè€—æ—¶çŸ­ï¼›full gc ä¼šå¯¹æ•´ä¸ªå †å†…å­˜è¿›è¡Œå›åŸï¼Œè€—æ—¶é•¿ï¼Œå› æ­¤ä¸€èˆ¬å°½é‡å‡å°‘ full gc çš„æ¬¡æ•°")]),s._v(" "),a("p",[s._v("é€šè¿‡ä¸¤å¼ å›¾éå¸¸æ˜æ˜¾çœ‹å‡º gc æ—¥å¿—æ„æˆï¼š")]),s._v(" "),a("p",[s._v("YOUNG GC")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/dunwu/images/master/snap/20220107093538.jfif",alt:"img"}})]),s._v(" "),a("p",[s._v("FULL GC")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/dunwu/images/master/snap/20220107093543.jfif",alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"cpu-è¿‡é«˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cpu-è¿‡é«˜"}},[s._v("#")]),s._v(" CPU è¿‡é«˜")]),s._v(" "),a("p",[s._v("å®šä½æ­¥éª¤ï¼š")]),s._v(" "),a("p",[s._v("ï¼ˆ1ï¼‰æ‰§è¡Œ top -c å‘½ä»¤ï¼Œæ‰¾åˆ° cpu æœ€é«˜çš„è¿›ç¨‹çš„ id")]),s._v(" "),a("p",[s._v("ï¼ˆ2ï¼‰jstack PID å¯¼å‡º Java åº”ç”¨ç¨‹åºçš„çº¿ç¨‹å †æ ˆä¿¡æ¯ã€‚")]),s._v(" "),a("p",[s._v("ç¤ºä¾‹ï¼š")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("jstack "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6795")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Low Memory Detector"')]),s._v(" daemon prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" tid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x081465f8")]),s._v(" nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x7")]),s._v(" runnable "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x00000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),s._v("x00000000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CompilerThread0"')]),s._v(" daemon prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" tid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x08143c58")]),s._v(" nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x6")]),s._v(" waiting on condition "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x00000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),s._v("xfb5fd798"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Signal Dispatcher"')]),s._v(" daemon prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" tid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x08142f08")]),s._v(" nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x5")]),s._v(" waiting on condition "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x00000000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),s._v("x00000000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Finalizer"')]),s._v(" daemon prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" tid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x08137ca0")]),s._v(" nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x4")]),s._v(" in "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0xfbeed000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),s._v("xfbeeddb8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Native")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" waiting on "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("0xef600848"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("ReferenceQueue")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("ReferenceQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("remove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ReferenceQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("116")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" locked "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("0xef600848"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("ReferenceQueue")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("ReferenceQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("remove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ReferenceQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("132")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Finalizer")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FinalizerThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Finalizer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("159")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Reference Handler"')]),s._v(" daemon prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" tid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x081370f0")]),s._v(" nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x3")]),s._v(" in "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0xfbf4a000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),s._v("xfbf4aa38"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Native")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" waiting on "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("0xef600758"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Reference")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("474")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Reference")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ReferenceHandler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Reference")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("116")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" locked "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("0xef600758"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Reference")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Lock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"VM Thread"')]),s._v(" prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" tid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x08134878")]),s._v(" nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x2")]),s._v(" runnable\n\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"VM Periodic Task Thread"')]),s._v(" prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" tid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x08147768")]),s._v(" nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x8")]),s._v(" waiting on condition\n")])])]),a("p",[s._v("åœ¨æ‰“å°çš„å †æ ˆæ—¥å¿—æ–‡ä»¶ä¸­ï¼Œtid å’Œ nid çš„å«ä¹‰ï¼š")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("nid : å¯¹åº”çš„ Linux æ“ä½œç³»ç»Ÿä¸‹çš„ tid çº¿ç¨‹å·ï¼Œä¹Ÿå°±æ˜¯å‰é¢è½¬åŒ–çš„ 16 è¿›åˆ¶æ•°å­—\ntid: è¿™ä¸ªåº”è¯¥æ˜¯ jvm çš„ jmm å†…å­˜è§„èŒƒä¸­çš„å”¯ä¸€åœ°å€å®šä½\n")])])]),a("p",[s._v("åœ¨ CPU è¿‡é«˜çš„æƒ…å†µä¸‹ï¼ŒæŸ¥æ‰¾å“åº”çš„çº¿ç¨‹ï¼Œä¸€èˆ¬å®šä½éƒ½æ˜¯ç”¨ nid æ¥å®šä½çš„ã€‚è€Œå¦‚æœå‘ç”Ÿæ­»é”ä¹‹ç±»çš„é—®é¢˜ï¼Œä¸€èˆ¬ç”¨ tid æ¥å®šä½ã€‚")]),s._v(" "),a("p",[s._v("ï¼ˆ3ï¼‰å®šä½ CPU é«˜çš„çº¿ç¨‹æ‰“å°å…¶ nid")]),s._v(" "),a("p",[s._v("æŸ¥çœ‹çº¿ç¨‹ä¸‹å…·ä½“è¿›ç¨‹ä¿¡æ¯çš„å‘½ä»¤å¦‚ä¸‹ï¼š")]),s._v(" "),a("p",[s._v("top -H -p 6735")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("top "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("09")]),s._v(" up "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("611")]),s._v(" days"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  load average"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.19")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.76")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.82")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Threads")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6991")]),s._v(" total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(" running"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6974")]),s._v(" sleeping"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" stopped"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" zombie\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Cpu")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("90.4")]),s._v(" us"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.1")]),s._v(" sy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" ni"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.0")]),s._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" wa"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" hi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.4")]),s._v(" si"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" st\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("KiB")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Mem")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("32783044")]),s._v(" total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("32505008")]),s._v(" used"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("278036")]),s._v(" free"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("120304")]),s._v(" buffers\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("KiB")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Swap")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" total"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" used"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" free"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4497428")]),s._v(" cached "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Mem")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PID")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("USER")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("PR")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NI")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("VIRT")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("RES")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SHR")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("CPU")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("MEM")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TIME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("COMMAND")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6800")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.299")]),s._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.021")]),s._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7172")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("54.7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70.1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("187")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("55.61")]),s._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6803")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.299")]),s._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.021")]),s._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7172")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("54.4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70.1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("187")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.59")]),s._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6798")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.299")]),s._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.021")]),s._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7172")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("53.7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70.1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("187")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("55.08")]),s._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6801")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.299")]),s._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.021")]),s._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7172")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("53.7")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70.1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("187")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("55.25")]),s._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6797")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.299")]),s._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.021")]),s._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7172")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("53.1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70.1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("187")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.78")]),s._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6804")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.299")]),s._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.021")]),s._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7172")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("53.1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70.1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("187")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("55.76")]),s._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6802")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.299")]),s._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.021")]),s._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7172")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("52.1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70.1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("187")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("54.79")]),s._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6799")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.299")]),s._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.021")]),s._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7172")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("51.8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70.1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("187")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("53.36")]),s._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6807")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.299")]),s._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.021")]),s._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7172")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70.1")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("58.60")]),s._v(" java\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11014")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.299")]),s._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.021")]),s._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7172")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("R")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70.1")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("00.32")]),s._v(" java\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10642")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.299")]),s._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.021")]),s._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7172")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("R")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.5")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70.1")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("32.06")]),s._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6808")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.299")]),s._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.021")]),s._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7172")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70.1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("159")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("08.40")]),s._v(" java\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11315")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.299")]),s._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.021")]),s._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7172")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.9")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70.1")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("54.10")]),s._v(" java\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12545")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.299")]),s._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.021")]),s._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7172")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.9")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70.1")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("55.48")]),s._v(" java\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23353")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.299")]),s._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.021")]),s._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7172")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.9")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70.1")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20.55")]),s._v(" java\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24868")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.299")]),s._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.021")]),s._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7172")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.9")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70.1")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.46")]),s._v(" java\n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9146")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27.299")]),s._v("g "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.021")]),s._v("t   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7172")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("S")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.6")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70.1")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("42.72")]),s._v(" java\n")])])]),a("p",[s._v("ç”±æ­¤å¯ä»¥çœ‹å‡ºå ç”¨ CPU è¾ƒé«˜çš„çº¿ç¨‹ï¼Œä½†æ˜¯è¿™äº›è¿˜ä¸é«˜ï¼Œæ— æ³•ç›´æ¥å®šä½åˆ°å…·ä½“çš„ç±»ã€‚nid æ˜¯ 16 è¿›åˆ¶çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è·å–çº¿ç¨‹çš„ 16 è¿›åˆ¶ IDï¼š")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('printf "%x\\n" 6800\n')])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("è¾“å‡ºç»“æœ:45cd\n")])])]),a("p",[s._v("ç„¶åæ ¹æ®è¾“å‡ºç»“æœåˆ° jstack æ‰“å°çš„å †æ ˆæ—¥å¿—ä¸­æŸ¥å®šä½ï¼š")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"catalina-exec-5692"')]),s._v(" daemon prio"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" tid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x00007f3b05013800")]),s._v(" nid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x45cd")]),s._v(" waiting on condition "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x00007f3ae08e3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n   "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Thread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("State")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("TIMED_WAITING")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("parking"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("misc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Unsafe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("park")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Native")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" parking "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("to")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("wait")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("0x00000006a7800598"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("locks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("AbstractQueuedSynchronizer")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ConditionObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("locks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("LockSupport")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("parkNanos")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LockSupport")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("226")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("locks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("AbstractQueuedSynchronizer")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ConditionObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awaitNanos")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AbstractQueuedSynchronizer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2082")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("LinkedBlockingQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("poll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LinkedBlockingQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("467")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("apache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tomcat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("threads"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("TaskQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("poll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TaskQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("86")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("apache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tomcat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("threads"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("TaskQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("poll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TaskQueue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("ThreadPoolExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getTask")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadPoolExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1068")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("ThreadPoolExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("runWorker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadPoolExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1130")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("concurrent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("ThreadPoolExecutor")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Worker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadPoolExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("615")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("apache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tomcat"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("threads"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("TaskThread")]),s._v("$"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("WrappingRunnable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TaskThread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("61")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        at "),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Thread")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("745")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("h2",{attrs:{id:"gc-é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gc-é…ç½®"}},[s._v("#")]),s._v(" GC é…ç½®")]),s._v(" "),a("blockquote",[a("p",[s._v("è¯¦ç»†å‚æ•°è¯´æ˜è¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š"),a("a",{attrs:{href:"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("JavaHotSpot VM Options"),a("OutboundLink")],1),s._v("ï¼Œè¿™é‡Œä»…åˆ—ä¸¾å¸¸ç”¨å‚æ•°ã€‚")])]),s._v(" "),a("h3",{attrs:{id:"å †å¤§å°è®¾ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å †å¤§å°è®¾ç½®"}},[s._v("#")]),s._v(" å †å¤§å°è®¾ç½®")]),s._v(" "),a("p",[a("strong",[s._v("å¹´è½»ä»£çš„è®¾ç½®å¾ˆå…³é”®ã€‚")])]),s._v(" "),a("p",[s._v("JVM ä¸­æœ€å¤§å †å¤§å°æœ‰ä¸‰æ–¹é¢é™åˆ¶ï¼š")]),s._v(" "),a("ol",[a("li",[s._v("ç›¸å…³æ“ä½œç³»ç»Ÿçš„æ•°æ®æ¨¡å‹ï¼ˆ32-bt è¿˜æ˜¯ 64-bitï¼‰é™åˆ¶ï¼›")]),s._v(" "),a("li",[s._v("ç³»ç»Ÿçš„å¯ç”¨è™šæ‹Ÿå†…å­˜é™åˆ¶ï¼›")]),s._v(" "),a("li",[s._v("ç³»ç»Ÿçš„å¯ç”¨ç‰©ç†å†…å­˜é™åˆ¶ã€‚")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("æ•´ä¸ªå †å¤§å° = å¹´è½»ä»£å¤§å° + å¹´è€ä»£å¤§å° + æŒä¹…ä»£å¤§å°\n")])])]),a("ul",[a("li",[s._v("æŒä¹…ä»£ä¸€èˆ¬å›ºå®šå¤§å°ä¸º "),a("code",[s._v("64m")]),s._v("ã€‚ä½¿ç”¨ "),a("code",[s._v("-XX:PermSize")]),s._v(" è®¾ç½®ã€‚")]),s._v(" "),a("li",[s._v("å®˜æ–¹æ¨èå¹´è½»ä»£å æ•´ä¸ªå †çš„ 3/8ã€‚ä½¿ç”¨ "),a("code",[s._v("-Xmn")]),s._v(" è®¾ç½®ã€‚")])]),s._v(" "),a("h3",{attrs:{id:"jvm-å†…å­˜é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jvm-å†…å­˜é…ç½®"}},[s._v("#")]),s._v(" JVM å†…å­˜é…ç½®")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("é…ç½®")]),s._v(" "),a("th",[s._v("æè¿°")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("code",[s._v("-Xss")])]),s._v(" "),a("td",[s._v("è™šæ‹Ÿæœºæ ˆå¤§å°ã€‚")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-Xms")])]),s._v(" "),a("td",[s._v("å †ç©ºé—´åˆå§‹å€¼ã€‚")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-Xmx")])]),s._v(" "),a("td",[s._v("å †ç©ºé—´æœ€å¤§å€¼ã€‚")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-Xmn")])]),s._v(" "),a("td",[s._v("æ–°ç”Ÿä»£ç©ºé—´å¤§å°ã€‚")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-XX:NewSize")])]),s._v(" "),a("td",[s._v("æ–°ç”Ÿä»£ç©ºé—´åˆå§‹å€¼ã€‚")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-XX:MaxNewSize")])]),s._v(" "),a("td",[s._v("æ–°ç”Ÿä»£ç©ºé—´æœ€å¤§å€¼ã€‚")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-XX:NewRatio")])]),s._v(" "),a("td",[s._v("æ–°ç”Ÿä»£ä¸å¹´è€ä»£çš„æ¯”ä¾‹ã€‚é»˜è®¤ä¸º 2ï¼Œæ„å‘³ç€è€å¹´ä»£æ˜¯æ–°ç”Ÿä»£çš„ 2 å€ã€‚")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-XX:SurvivorRatio")])]),s._v(" "),a("td",[s._v("æ–°ç”Ÿä»£ä¸­è°ƒæ•´ eden åŒºä¸ survivor åŒºçš„æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º 8ã€‚å³ "),a("code",[s._v("eden")]),s._v(" åŒºä¸º 80% çš„å¤§å°ï¼Œä¸¤ä¸ª "),a("code",[s._v("survivor")]),s._v(" åˆ†åˆ«ä¸º 10% çš„å¤§å°ã€‚")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-XX:PermSize")])]),s._v(" "),a("td",[s._v("æ°¸ä¹…ä»£ç©ºé—´çš„åˆå§‹å€¼ã€‚")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-XX:MaxPermSize")])]),s._v(" "),a("td",[s._v("æ°¸ä¹…ä»£ç©ºé—´çš„æœ€å¤§å€¼ã€‚")])])])]),s._v(" "),a("h3",{attrs:{id:"gc-ç±»å‹é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gc-ç±»å‹é…ç½®"}},[s._v("#")]),s._v(" GC ç±»å‹é…ç½®")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("é…ç½®")]),s._v(" "),a("th",[s._v("æè¿°")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("code",[s._v("-XX:+UseSerialGC")])]),s._v(" "),a("td",[s._v("ä½¿ç”¨ Serial + Serial Old åƒåœ¾å›æ”¶å™¨ç»„åˆ")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-XX:+UseParallelGC")])]),s._v(" "),a("td",[s._v("ä½¿ç”¨ Parallel Scavenge + Parallel Old åƒåœ¾å›æ”¶å™¨ç»„åˆ")])]),s._v(" "),a("tr",[a("td",[a("s",[a("code",[s._v("-XX:+UseParallelOldGC")])])]),s._v(" "),a("td",[a("s",[s._v("ä½¿ç”¨ Parallel Old åƒåœ¾å›æ”¶å™¨ï¼ˆJDK5 åå·²æ— ç”¨ï¼‰")])])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-XX:+UseParNewGC")])]),s._v(" "),a("td",[s._v("ä½¿ç”¨ ParNew + Serial Old åƒåœ¾å›æ”¶å™¨")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-XX:+UseConcMarkSweepGC")])]),s._v(" "),a("td",[s._v("ä½¿ç”¨ CMS + ParNew + Serial Old åƒåœ¾å›æ”¶å™¨ç»„åˆ")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-XX:+UseG1GC")])]),s._v(" "),a("td",[s._v("ä½¿ç”¨ G1 åƒåœ¾å›æ”¶å™¨")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-XX:ParallelCMSThreads")])]),s._v(" "),a("td",[s._v("å¹¶å‘æ ‡è®°æ‰«æåƒåœ¾å›æ”¶å™¨ = ä¸ºä½¿ç”¨çš„çº¿ç¨‹æ•°é‡")])])])]),s._v(" "),a("h3",{attrs:{id:"åƒåœ¾å›æ”¶å™¨é€šç”¨å‚æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åƒåœ¾å›æ”¶å™¨é€šç”¨å‚æ•°"}},[s._v("#")]),s._v(" åƒåœ¾å›æ”¶å™¨é€šç”¨å‚æ•°")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("é…ç½®")]),s._v(" "),a("th",[s._v("æè¿°")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("code",[s._v("PretenureSizeThreshold")])]),s._v(" "),a("td",[s._v("æ™‹å‡å¹´è€ä»£çš„å¯¹è±¡å¤§å°ã€‚é»˜è®¤ä¸º 0ã€‚æ¯”å¦‚è®¾ä¸º 10Mï¼Œåˆ™è¶…è¿‡ 10M çš„å¯¹è±¡å°†ä¸åœ¨ eden åŒºåˆ†é…ï¼Œè€Œç›´æ¥è¿›å…¥å¹´è€ä»£ã€‚")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("MaxTenuringThreshold")])]),s._v(" "),a("td",[s._v("æ™‹å‡è€å¹´ä»£çš„æœ€å¤§å¹´é¾„ã€‚é»˜è®¤ä¸º 15ã€‚æ¯”å¦‚è®¾ä¸º 10ï¼Œåˆ™å¯¹è±¡åœ¨ 10 æ¬¡æ™®é€š GC åå°†ä¼šè¢«æ”¾å…¥å¹´è€ä»£ã€‚")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("DisableExplicitGC")])]),s._v(" "),a("td",[s._v("ç¦ç”¨ "),a("code",[s._v("System.gc()")])])])])]),s._v(" "),a("h3",{attrs:{id:"jmx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jmx"}},[s._v("#")]),s._v(" JMX")]),s._v(" "),a("p",[s._v("å¼€å¯ JMX åï¼Œå¯ä»¥ä½¿ç”¨ "),a("code",[s._v("jconsole")]),s._v(" æˆ– "),a("code",[s._v("jvisualvm")]),s._v(" è¿›è¡Œç›‘æ§ Java ç¨‹åºçš„åŸºæœ¬ä¿¡æ¯å’Œè¿è¡Œæƒ…å†µã€‚")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Dcom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("management"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jmxremote"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Dcom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("management"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jmxremote"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ssl"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Dcom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("management"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jmxremote"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("authenticate"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Djava")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rmi"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hostname"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Dcom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sun"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("management"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jmxremote"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18888")]),s._v("\n")])])]),a("p",[a("code",[s._v("-Djava.rmi.server.hostname")]),s._v(" æŒ‡å®š Java ç¨‹åºè¿è¡Œçš„æœåŠ¡å™¨ï¼Œ"),a("code",[s._v("-Dcom.sun.management.jmxremote.port")]),s._v(" æŒ‡å®šæœåŠ¡ç›‘å¬ç«¯å£ã€‚")]),s._v(" "),a("h3",{attrs:{id:"è¿œç¨‹-debug"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¿œç¨‹-debug"}},[s._v("#")]),s._v(" è¿œç¨‹ DEBUG")]),s._v(" "),a("p",[s._v("å¦‚æœå¼€å¯ Java åº”ç”¨çš„è¿œç¨‹ Debug åŠŸèƒ½ï¼Œéœ€è¦æŒ‡å®šå¦‚ä¸‹å‚æ•°ï¼š")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Xdebug")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Xnoagent")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Djava")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("compiler"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NONE")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Xrunjdwp")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("transport"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("dt_socket"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("address"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28888")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("server"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("suspend"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("n\n")])])]),a("p",[s._v("address å³ä¸ºè¿œç¨‹ debug çš„ç›‘å¬ç«¯å£ã€‚")]),s._v(" "),a("h3",{attrs:{id:"heapdump"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#heapdump"}},[s._v("#")]),s._v(" HeapDump")]),s._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("XX")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OmitStackTraceInFastThrow")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("XX")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HeapDumpOnOutOfMemoryError")]),s._v("\n")])])]),a("h3",{attrs:{id:"è¾…åŠ©é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¾…åŠ©é…ç½®"}},[s._v("#")]),s._v(" è¾…åŠ©é…ç½®")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("é…ç½®")]),s._v(" "),a("th",[s._v("æè¿°")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("code",[s._v("-XX:+PrintGCDetails")])]),s._v(" "),a("td",[s._v("æ‰“å° GC æ—¥å¿—")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-Xloggc:<filename>")])]),s._v(" "),a("td",[s._v("æŒ‡å®š GC æ—¥å¿—æ–‡ä»¶å")])]),s._v(" "),a("tr",[a("td",[a("code",[s._v("-XX:+HeapDumpOnOutOfMemoryError")])]),s._v(" "),a("td",[s._v("å†…å­˜æº¢å‡ºæ—¶è¾“å‡ºå †å¿«ç…§æ–‡ä»¶")])])])]),s._v(" "),a("h2",{attrs:{id:"å‚è€ƒèµ„æ–™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™"}},[s._v("#")]),s._v(" å‚è€ƒèµ„æ–™")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://book.douban.com/subject/34907497/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ã€Šæ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºã€‹"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://time.geekbang.org/column/intro/100028001",target:"_blank",rel:"noopener noreferrer"}},[s._v("ã€ŠJava æ€§èƒ½è°ƒä¼˜å®æˆ˜ã€‹"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.douban.com/doulist/2545443/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ä»è¡¨åˆ°é‡Œå­¦ä¹  JVM å®ç°"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"http://www.importnew.com/23761.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("JVMï¼ˆ4ï¼‰ï¼šJvm è°ƒä¼˜-å‘½ä»¤ç¯‡"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.cnblogs.com/zhguang/p/Java-JVM-GC.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Java ç³»åˆ—ç¬”è®°(4) - JVM ç›‘æ§ä¸è°ƒä¼˜"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000005174819",target:"_blank",rel:"noopener noreferrer"}},[s._v("Java æœåŠ¡ GC å‚æ•°è°ƒä¼˜æ¡ˆä¾‹"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"http://www.importnew.com/19264.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("JVM è°ƒä¼˜æ€»ç»“ï¼ˆ5ï¼‰ï¼šå…¸å‹é…ç½®"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://juejin.im/post/59f02f406fb9a0451869f01c",target:"_blank",rel:"noopener noreferrer"}},[s._v("å¦‚ä½•åˆç†çš„è§„åˆ’ä¸€æ¬¡ jvm æ€§èƒ½è°ƒä¼˜"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"http://www.ityouknow.com/jvm/2017/09/21/How-to-optimize-Java-GC.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("jvm ç³»åˆ—(ä¹):å¦‚ä½•ä¼˜åŒ– Java GCã€Œè¯‘ã€"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("https://my.oschina.net/feichexia/blog/196575")])])])}),[],!1,null,null,null);a.default=e.exports}}]);